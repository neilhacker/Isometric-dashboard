<!--              .:::ccc::.                                                                                                                                                                            
                  .'':kk:''.                                                                                                                                                                            
         .           .dd.           .                                                                                                                                                                   
        co.          .dd.          .o:                                                                                                                                                                  
        lOc.         .dd.         .cOl                                                                                                                                                                  
        l0xoo:'      .do.      ':oox0l               .;::::::'       .;::::::;.       .;ccc:,.        .::.      .,:,.     .;::::::,.    ,::::::::;.    .,:::::::,.      .;::::::'        .';::::;.      
        cd..'cool,.  .dd.  .;looc'..dc               .',lOd;,.     .lxc;;;;;;'.     ,ddl;,;:oxl.      l00x.     cOKk.     ;0d;;;;;'.    ';;:k0l;;,.    'kk:;;;;:ok:     .',lOd;,.      .cdoc:;;;,.      
        ..     .;c'  .dd.  'c;.     ..                  'xc        .xx'            ;ko.      'xx.     lklxo.   ,xldk.     ;O:               ok'        'ko.     ,Od.       'xc        .xx'              
                     .dd.                               'kc         'lollllc:'    .dk.        :O:     lk,;k:  .do.ok.     ;0xcccc:.         lO'        'kOlccloool.        'kc        cO;               
                 ..  .dd.  ..                           'xc            ...',lkc    oO;        lO;     lk' lx'.lx..ok.     :Ol.....          oO'        'kx'..;kk,          'kc        ;Oc               
        ,;.  .,coo'  .dd.  'ooc,.  .;'                  ,kc                 ,kd.   .okc.   .'okc      lk' .dxox;  ok.     ;Oc               lO'        'ko.   .ox;         ,kc         :xo'.            
        lk::lol;.    .dd.    .;lol::kl               .:clxdc:'     .;lcccccloc.      ,loollooc.       :o.  'dk:   co.     ,xdccccc:.        :d.        .oc     .cd;     .:clxdc:,       .:llllllc.      
        l0xc,.       .dd.       .,cx0l                .......        ......             ....                                ......                                       .......            ....        
        lk'          .dd.          'kl                                                                                                                                                                  
        ';.          .dd.          .;'                                                                                                                                                                  
                     .dd.                                                                                                                                                                               
                  .:clxxlc:.                                                                                                                                                                            
                   ........                                                                                                                                                                              
-->


<!DOCTYPE html>
<html data-wf-domain="isometric.com" data-wf-page="63cea28b440ed7f57e0f5682" data-wf-site="5eefb3f21c86f23d6b5e471b"><head><meta charset="utf-8"/>
    <title>Isometric</title>
    <meta content="We partner with founders to explore new ideas, build exceptional products, and launch world-class companies." name="description"/>
    <meta content="Isometric" property="og:title"/>
    <meta content="https://cdn.prod.website-files.com/5eefb3f21c86f23d6b5e471b/63f6c7a2c991f967d1d854af_ThriveCapital.gif" property="og:image"/>
    <meta content="Isometric" property="twitter:title"/>
    <meta content="Isometric is the world's leading carbon removal registry. Our mission is to build the trust needed to scale the carbon removal market responsibly and fast." property="twitter:description"/>
    <meta content="https://cdn.prod.website-files.com/5eefb3f21c86f23d6b5e471b/63f6c7a2c991f967d1d854af_ThriveCapital.gif" property="twitter:image"/>
    <meta property="og:type" content="website"/><meta content="summary_large_image" name="twitter:card"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="./favicon.png" rel="icon" type="image/png"/>
    <link href="./favicon.png" rel="shortcut icon" type="image/png"/>
    <link href="./favicon.png" rel="apple-touch-icon"/> 
    <link href="./style.css" rel="stylesheet" type="text/css"/>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CC3XJMND3M"></script>
    <script type="text/javascript">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('set', 'developer_id.dZGVlNj', true);gtag('config', 'G-CC3XJMND3M');</script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" integrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- Google tag (gtag.js) -->

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

//   gtag('config', 'G-CC3XJMND3M');
</script>




</head>
<body class="body"><div id="3D_ASCII" data-w-id="e95fa444-6978-8372-4906-cbc7fda9ca82" style="opacity:0" class="ascii-3d w-embed w-script"><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r77/three.min.js"></script>
<script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/242637/TrackballProjectorDetector.js"></script>
<script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/242637/AsciiEffect.js"></script>
<script src="https://raw.githubusercontent.com/mrdoob/three.js/r129/examples/js/effects/AsciiEffect.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stl-loader@1.0.0/STLLoader.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/browser-polyfill@3.20.2/polyfills/localStorage/polyfill.min.js"></script>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5eefb3f21c86f23d6b5e471b" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.prod.website-files.com/5eefb3f21c86f23d6b5e471b/js/webflow.e03631277.js" type="text/javascript"></script> 


<!-- ============================= ASCII 3D MODEL ===================================== -->
<script>
var container;
var camera, controls, scene, renderer;
var mesh;
var start = Date.now();
init();
animate();

function init() {
  var width = window.innerWidth || 2;
  var height = window.innerHeight || 2;
  container = document.createElement('div');
  container.style.position = 'fixed';
  container.style.top = '50%';
  container.style.left = '50%';
  container.style.transform = 'translate(-50%, -50%)';
  container.style.zIndex = '1';
  document.body.appendChild(container);
  var info = document.createElement('div');
  
  container.appendChild(info);
  camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
  camera.position.set(0, 0, 500); // Position camera to center model in the screen
  controls = new THREE.TrackballControls(camera);
  controls.noZoom = true;
  scene = new THREE.Scene();
  var light = new THREE.PointLight(0xffffff, 1);
  light.position.set(0, 500, 500);
  scene.add(light);
  
  var asciiCamera = new THREE.PerspectiveCamera(45, width / height, 1, 1000);
	asciiCamera.position.copy(camera.position);
	asciiCamera.quaternion.copy(camera.quaternion);
 

    // mesh from tripo3d
  var loader = new THREE.STLLoader();
  loader.load('./iso.stl.txt', function ( geometry ) { 
    var material = new THREE.MeshLambertMaterial();
    mesh = new THREE.Mesh( geometry, material );
    
  
    
    scene.add( mesh );
    mesh.scale.set(230,230,230); // set scale factor 

		mesh.rotation.y = Math.PI;
    mesh.rotation.x = Math.PI / 2;
  

  } );
  renderer = new THREE.CanvasRenderer();
  renderer.setClearColor(0xf0f0f0);
  renderer.setSize(width, height);
  effect = new THREE.AsciiEffect(renderer);
  effect.setSize(width, height);
  container.appendChild(effect.domElement);
  window.addEventListener('resize', onWindowResize, true);
}

function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
  effect.setSize(window.innerWidth, window.innerHeight);
}

function animate() {
  requestAnimationFrame(animate);
  render();
}

var asciiTarget = new THREE.WebGLRenderTarget(window.innerWidth, window.innerHeight);

function render() {
  var timer = Date.now() - start;
  mesh.rotation.z = -timer * 0.001;
  controls.update();

  // render the ASCII effect onto a temporary render target
  effect.render(scene, camera, asciiTarget);

  // clear the main renderer and render the model mesh with the ASCII texture
  renderer.clear();
  renderer.render(scene, camera);
  renderer.render(asciiTarget, asciiCamera);
}
</script>

<script>
$(function(){
           $("a").each(function (index, element){
               var href = $(this).attr("href");
               $(this).attr("hiddenhref", href);
               $(this).removeAttr("href");
           });
           $("a").click(function(){
               url = $(this).attr("hiddenhref");
              // window.open(url);
              window.location.href = url;
           })
       });
 </script>

<!-- ============================= TIME & THEME MANAGEMENT ===================================== -->
<script type="text/javascript">
  // Day/Night theme management
function setBodyClass(currentHour, currentMinute, sunriseHour, sunriseMinute, sunsetHour, sunsetMinute) {
	if (currentHour > sunriseHour && currentHour < sunsetHour) {
		document.body.className = "night";
	} else if (currentHour < sunriseHour || currentHour > sunsetHour) {
		document.body.className = "day";
	} else if (currentHour == sunriseHour) {
		if (currentMinute < sunriseMinute) {
			document.body.className = "day";
		} else {
			document.body.className = "night";
		}
	} else if (currentHour == sunsetHour) {
		if (currentMinute >= sunsetMinute) {
			document.body.className = "day";
		} else {
			document.body.className = "night";
		}
	}
}

  // Clock display (London & NYC time)
function updateClock() {
    // Get London time
    const londonDate = new Date().toLocaleString('en-US', {timeZone: 'Europe/London'});
    const londonDateObj = new Date(londonDate);
    const londonHours = londonDateObj.getHours();
    const londonMinutes = londonDateObj.getMinutes();
    const formattedLondonMinutes = londonMinutes.toString().length === 1 ? `0${londonMinutes}` : londonMinutes;
    const formattedLondonHours = londonHours.toString().length === 1 ? `0${londonHours}` : londonHours;
    
    // Get NYC time
    const nyDate = new Date().toLocaleString('en-US', {timeZone: 'America/New_York'});
    const nyDateObj = new Date(nyDate);
    const nyHours = nyDateObj.getHours();
    const nyMinutes = nyDateObj.getMinutes();
    const formattedNYMinutes = nyMinutes.toString().length === 1 ? `0${nyMinutes}` : nyMinutes;
    const formattedNYHours = nyHours.toString().length === 1 ? `0${nyHours}` : nyHours;

    // Update clock display
    const clockElement = document.getElementById('clock');
    if (clockElement) {
      clockElement.textContent = `${formattedNYHours}:${formattedNYMinutes} NYC • ${formattedLondonHours}:${formattedLondonMinutes} LDN`;
    }

    // Return time for theme management
    return { currentHour: nyHours, currentMinute: nyMinutes };
  }

  // Initialize time and theme on page load
$(document).ready(function(){
  const onLoadLondonDate = new Date().toLocaleString('en-US', {timeZone: 'Europe/London'});
	const onLoadDate = new Date(onLoadLondonDate);
  const onLoadHour = onLoadDate.getHours();
  const onLoadMinute = onLoadDate.getMinutes();

	const month = onLoadDate.getMonth() + 1 < 10 ? `0${onLoadDate.getMonth() + 1}` : onLoadDate.getMonth() + 1;
	const day = onLoadDate.getDate() < 10 ? `0${onLoadDate.getDate()}` : onLoadDate.getDate();
	const year = onLoadDate.getFullYear();
    
    // Update clock immediately
  updateClock();
  
    // Fetch sunrise/sunset times
  try {
		$.get(`https://api.sunrise-sunset.org/json?lat=40.6901171&lng=-73.978852&date=${year}-${month}-${day}&formatted=0`, function (data) {
			var { results } = data;
			var { sunrise, sunset } = results;
      const londonSunriseDate = new Date(sunrise).toLocaleString('en-US', {timeZone: 'Europe/London'});
      const sunriseDate = new Date(londonSunriseDate);
      const londonSunsetDate = new Date(sunset).toLocaleString('en-US', {timeZone: 'Europe/London'});
      const sunsetDate = new Date(londonSunsetDate);
			window.localStorage.setItem('sunriseMinute', sunriseDate.getMinutes());
			window.localStorage.setItem('sunriseHour', sunriseDate.getHours());
			window.localStorage.setItem('sunsetMinute', sunsetDate.getMinutes());
			window.localStorage.setItem('sunsetHour', sunsetDate.getHours());
		});
  } catch (e) {
    console.error(e.message);
		window.localStorage.setItem('sunriseMinute', 1);
		window.localStorage.setItem('sunriseHour', 6);
		window.localStorage.setItem('sunsetMinute', 1);
		window.localStorage.setItem('sunsetHour', 19);
  }

  const sunriseMinute = window.localStorage.getItem('sunriseMinute');
  const sunriseHour = window.localStorage.getItem('sunriseHour');
  const sunsetMinute = window.localStorage.getItem('sunsetMinute');
  const sunsetHour = window.localStorage.getItem('sunsetHour');

    // Set initial theme
  setBodyClass(onLoadHour, onLoadMinute, sunriseHour, sunriseMinute, sunsetHour, sunsetMinute);

    // Update clock and theme every second
 	setInterval(function () {
	  const { currentHour, currentMinute } = updateClock();
    setBodyClass(currentHour, currentMinute, sunriseHour, sunriseMinute, sunsetHour, sunsetMinute);
  }, 1000);
});
</script>


<!-- ============================= FOOTER & TICKER MANAGEMENT ===================================== -->
<script>
  let tickerIssuanceData = []; // Will be populated from API
  let tickerCycleInterval = null; // Store interval ID for cleanup

  // Ticker data types configuration
  const tickerTypes = [
    { endpoint: 'issuances', label: 'Recent Issuances' },
    { endpoint: 'deliveries', label: 'Recent Deliveries' },
    { endpoint: 'retirements', label: 'Recent Retirements' }
  ];
  let currentTickerIndex = 0; // Start with issuances

  // Load total credits issued
  async function loadTotalCreditStats() {
    try {
      // Calls main.py /credits endpoint
      const response = await fetch("http://localhost:8000/credits");
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const totalCredits = await response.json();
      
      // Format and display the value
      const issuedElement = document.getElementById("issued");
      if (issuedElement) {
        issuedElement.textContent = Math.floor(totalCredits).toLocaleString() + 't';
      }
      
      // Position ticker-label-box to align with right edge of total-issuances-value
      positionTickerLabelBox();
    } catch (err) {
      const issuedElement = document.getElementById("issued");
      if (issuedElement) {
        issuedElement.textContent = "error";
      }
      console.error('Error loading credits:', err);
    }
  }

  // Position ticker label box dynamically based on total issuances value width
  function positionTickerLabelBox() {
    const valueBox = document.querySelector('.total-issuances-value');
    const labelBox = document.querySelector('.ticker-label-box');
    const tickerContainer = document.querySelector('.ticker-container');
    
    if (valueBox && labelBox) {
      const valueBoxRect = valueBox.getBoundingClientRect();
      const valueBoxRight = valueBoxRect.right;
      
      // Position label box at the right edge of value box
      labelBox.style.left = valueBoxRight + 'px';
      
      // Update ticker container margin to account for new label box position
      if (tickerContainer) {
        const labelBoxRect = labelBox.getBoundingClientRect();
        const labelBoxRight = labelBoxRect.right;
        tickerContainer.style.marginLeft = labelBoxRight + 'px';
      }
    }
  }

  // Load ticker data from a specific endpoint
  async function loadTickerData(endpoint, label) {
    const output = document.getElementById("output");
    
    try {
      // Calls main.py endpoint (issuances, deliveries, or retirements)
      const res = await fetch(`http://localhost:8000/${endpoint}`);
      
      if (!res.ok) {
        throw new Error(`HTTP ${res.status}: ${res.statusText}`);
      }

      const data = await res.json();
      const rows = data.rows;
      
      // Set tickerIssuanceData to the rows from the API
      tickerIssuanceData = rows;
      
      // Update ticker label text based on current data type
      const labelBox = document.querySelector('.ticker-label-box');
      if (labelBox) {
        labelBox.textContent = label;
      }
      
      // Display as text - join with newlines (only if output element exists)
      if (output) {
        output.textContent = rows.join('\n');
        output.classList.remove('loading');
      }
      
      // Initialize ticker with the loaded data
      initTicker();
      
      // Reposition label box after text change (in case label width changed)
      positionTickerLabelBox();
      
    } catch (err) {
      // Only update output element if it exists
      if (output) {
        output.textContent = `Error: ${err.toString()}\n\nMake sure the FastAPI server is running:\nuvicorn main:app --reload`;
        output.classList.remove('loading');
        output.classList.add('error');
      }
      console.error(`Error loading ${endpoint}:`, err);
    }
  }

  // Cycle through ticker types (issuances -> deliveries -> retirements -> issuances...)
  function cycleTickerData() {
    const currentType = tickerTypes[currentTickerIndex];
    loadTickerData(currentType.endpoint, currentType.label);
    
    // Move to next type (cycles: 0->1->2->0->1->2...)
    // When at retirements (index 2), next will be (2+1) % 3 = 0 (issuances)
    currentTickerIndex = (currentTickerIndex + 1) % tickerTypes.length;
  }

  // Reset ticker animation position
  function resetTickerPosition() {
    const tickerContainer = document.querySelector('.ticker-container');
    if (tickerContainer) {
      // Remove animation temporarily
      tickerContainer.style.animation = 'none';
      // Reset transform
      tickerContainer.style.transform = 'translateX(0)';
      // Force reflow to ensure the reset is applied
      void tickerContainer.offsetWidth;
      // Re-add animation
      tickerContainer.style.animation = '';
    }
  }

  // Initialize ticker with scrolling items
  function initTicker() {
    const container = document.getElementById('tickerContainer');
    
    // Clear existing content
    container.innerHTML = '';
    
    // If no data yet, don't initialize
    if (tickerIssuanceData.length === 0) {
      return;
    }
    
    // Duplicate the items to create seamless loop
    const items = [...tickerIssuanceData, ...tickerIssuanceData];
    
    items.forEach((item, index) => {
      const tickerItem = document.createElement('span');
      tickerItem.className = 'ticker-item';
      tickerItem.textContent = item;
      container.appendChild(tickerItem);
      
      // Add separator between items (except last)
      if (index < items.length - 1) {
        const separator = document.createElement('span');
        separator.className = 'ticker-separator';
        separator.textContent = '•';
        container.appendChild(separator);
      }
    });
    
    // Reset animation position when new content is loaded
    resetTickerPosition();
  }

  // Initialize footer on page load
  document.addEventListener('DOMContentLoaded', function() {    
    // Load credit stats and position elements
    loadTotalCreditStats();
    
    // Position ticker label box initially and on resize
    positionTickerLabelBox();
    window.addEventListener('resize', positionTickerLabelBox);
    
    // Reposition after content loads (with delays to account for dynamic content)
    setTimeout(positionTickerLabelBox, 100);
    setTimeout(positionTickerLabelBox, 500);

    // Load initial ticker data (issuances)
    const initialType = tickerTypes[currentTickerIndex];
    loadTickerData(initialType.endpoint, initialType.label);
    currentTickerIndex = (currentTickerIndex + 1) % tickerTypes.length;

    // Set up interval to cycle through ticker types every 40 seconds
    tickerCycleInterval = setInterval(cycleTickerData, 40000);
  });
</script>


<!-- ================================================ Page content ================================================ -->
<div class="clock" id="clock">Loading...</div>

<div class="ticker-footer">
  <div class="total-issuances-label">Total Issuances</div>
  <div class="total-issuances-value"><span id="issued">loading…</span></div>
  <div class="ticker-label-box">Recent Issuances</div>
  <div class="ticker-container" id="tickerContainer">
    <!-- Ticker items will be populated by JavaScript -->
  </div>
</div>

</body></html>